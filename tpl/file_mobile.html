<link rel="stylesheet" href="/css/file.css?v=1">
<link rel="stylesheet" href="/css/file-mobile-v2.css?v=1">
<script src="/js/file.js?v=1"></script>
<script src="/js/core/mobile-file.js?v=1"></script>

<div class="file-screen mobile-download-shell" id="file_screen">
    <header class="mobile-header">
        <a class="mobile-brand" href="/">
            <img id="top_loggo" src="/img/loading.svg" alt="tmp.link">
        </a>
        <div class="header-actions" id="index_lang" style="display: none;">
            <button class="lang-chip hs-enabled" type="button" style="display: none;">
                <iconpark-icon name="gauge-circle-bolt"></iconpark-icon>
                <span i18n="hs_enabled">.</span>
            </button>
            <button class="lang-chip showOpenInMenubarX" type="button" onclick="filePage.openInMenubarXofIndex()" style="display: none;">
                <img src="/img/menubarx/icon.svg" alt="menubarx" />
                <span i18n="open_in_menubarx">.</span>
            </button>
            <div class="dropdown">
                <button class="lang-toggle-minimal dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    <iconpark-icon name="language"></iconpark-icon>
                </button>
                <div class="dropdown-menu dropdown-menu-right shadow-lg">
                    <a class="dropdown-item" href="javascript:void(0)" onclick="TL.language('cn');">简体中文</a>
                    <a class="dropdown-item" href="javascript:void(0)" onclick="TL.language('hk');">繁体中文</a>
                    <a class="dropdown-item" href="javascript:void(0)" onclick="TL.language('en');">English</a>
                    <a class="dropdown-item" href="javascript:void(0)" onclick="TL.language('jp');">日本語</a>
                </div>
            </div>
        </div>
    </header>

    <div id="file_messenger" style="display: none;">
        <div class="messenger-card">
            <div class="messenger-icon" id="file_messenger_icon"></div>
            <div class="messenger-msg" id="file_messenger_msg"></div>
            <div class="file-message-actions" id="file_messenger_msg_login" style="display: none;">
                <button class="file-btn primary" type="button" onclick="app.open('/app&listview=login');" i18n="index_b3">Login</button>
                <button class="file-btn ghost" type="button" onclick="app.open('/app&listview=reg');" i18n="index_b2">Register</button>
            </div>
        </div>
    </div>

    <div id="file_loading_box" style="display: none;">
        <div class="mobile-loading" role="status" aria-live="polite">
            <img class="mobile-loading-icon" src="/img/loading.svg" alt="Loading">
        </div>
    </div>

    <main class="mobile-content" id="file_box" style="display: none;">
        <section class="file-preview-area" id="file_info">
            <div class="file-alert" id="wechat_notice" role="alert" style="display: none;" i18n="filepage_mobile_notice">.</div>
            <div class="d-none" id="report_ukey"></div>

            <div class="file-icon-wrapper">
                <iconpark-icon name="file-lines" id="file-icon"></iconpark-icon>
            </div>

            <h1 class="file-title" id="filename">.</h1>

            <div class="file-meta-row">
                <div class="meta-item">
                    <iconpark-icon name="compact-disc"></iconpark-icon>
                    <span id="filesize">.</span>
                </div>
                <span class="meta-dot"></span>
                <button class="meta-item" id="likes" type="button" onclick="mobileLikeFile()">
                    <iconpark-icon name="like"></iconpark-icon>
                    <span id="likes_count">0</span>
                </button>
                <span class="meta-dot"></span>
                <div class="meta-item hs-model">
                    <iconpark-icon name="gauge-circle-bolt"></iconpark-icon>
                    <span class="hs-model-title" i18n="hs_title">.</span>
                </div>
                <div class="meta-item hot-flag" style="display: none;">
                    <iconpark-icon name="fire" style="color: #ef4444;"></iconpark-icon>
                </div>
            </div>

            <div id="lefttime_show" style="display: none;">
                <iconpark-icon name="timer"></iconpark-icon>
                <span id="lefttime">--</span>
            </div>

            <div id="nsfw_alert" style="display: none;">
                <iconpark-icon name="circle-exclamation"></iconpark-icon>
                <span i18n="filepage_nsfw_alert">NSFW!</span>
            </div>

            <div class="publisher-card file-publisher userinfo" style="display: none;">
                <div class="publisher-icon">
                    <img class="userinfo_avatar_card_img" src="/img/loading.svg" alt="Avatar">
                </div>
                <div class="publisher-content">
                    <div class="publisher-name-row">
                        <span class="userinfo_nickname userinfo_card_nickname"></span>
                        <span class="userinfo_sd" style="display: none;"></span>
                        <span class="userinfo_pro userinfo_card_pro" style="display: none;">
                            <iconpark-icon name="circle-check"></iconpark-icon>
                        </span>
                    </div>
                    <div class="publisher-intro">
                        <span class="userinfo_card_intro">个人介绍信息</span>
                    </div>
                </div>
                <div class="publisher-badge" i18n="filepage_sharer_badge">分享者</div>
            </div>
        </section>

        <div id="file_download_area">
            <div id="file_op" style="display: none;">
                <div class="action-grid">
                    <div class="dropdown">
                        <button class="action-item dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            <span class="action-icon-box">
                                <iconpark-icon name="laptop-arrow-down"></iconpark-icon>
                            </span>
                            <span class="action-label" id="file_btn_download_opt" i18n="file_btn_download_opt">.</span>
                        </button>
                        <div class="dropdown-menu shadow">
                            <button class="dropdown-item btn_copy_downloadurl_for_other" type="button">
                                <iconpark-icon name="rectangle-terminal" class="fa-fw"></iconpark-icon>
                                <span i18n="file_btn_download_opt_link">.</span>
                            </button>
                            <button class="dropdown-item btn_copy_downloadurl_for_curl" type="button">
                                <iconpark-icon name="rectangle-terminal" class="fa-fw"></iconpark-icon>
                                <span i18n="file_btn_download_opt_curl">.</span>
                            </button>
                            <button class="dropdown-item btn_copy_downloadurl_for_wget" type="button">
                                <iconpark-icon name="rectangle-terminal" class="fa-fw"></iconpark-icon>
                                <span i18n="file_btn_download_opt_wget">.</span>
                            </button>
                        </div>
                    </div>

                    <button class="action-item" id="file_download_by_qrcode" type="button">
                        <span class="action-icon-box">
                            <iconpark-icon name="mobile-signal"></iconpark-icon>
                        </span>
                        <span class="action-label" i18n="file_btn_qr_mobile">.</span>
                    </button>

                    <button class="action-item btn_copy_fileurl" id="btn_copy_fileurl_mobile" type="button" onclick="mobileCopyFileUrl()">
                        <span class="action-icon-box" id="btn_copy_fileurl_icon">
                            <iconpark-icon name="share-all"></iconpark-icon>
                        </span>
                        <span class="action-label" i18n="file_btn_copy">.</span>
                    </button>

                    <button class="action-item btn_play" type="button" style="display: none;" onclick="$('#openWithPlayerModal').modal('show');">
                        <span class="action-icon-box">
                            <iconpark-icon name="play"></iconpark-icon>
                        </span>
                        <span class="action-label" i18n="file_btn_play">.</span>
                    </button>

                    <button class="action-item" id="btn_add_to_workspace_mobile" type="button" onclick="mobileAddToWorkspace()">
                        <span class="action-icon-box" id="btn_add_to_workspace_icon">
                            <iconpark-icon name="file-collection-one"></iconpark-icon>
                        </span>
                        <span class="action-label" i18n="file_btn_collect">.</span>
                    </button>

                    <button class="action-item" id="btn_highdownload" type="button">
                        <span class="action-icon-box">
                            <iconpark-icon name="rocket-launch"></iconpark-icon>
                        </span>
                        <span class="action-label" i18n="file_btn_upup">.</span>
                    </button>

                    <button class="action-item" id="btn_report_file" type="button">
                        <span class="action-icon-box" style="color: #ef4444;">
                            <iconpark-icon name="circle-exclamation"></iconpark-icon>
                        </span>
                        <span class="action-label" i18n="file_btn_report">.</span>
                    </button>
                </div>

                <div class="legal-text" id="downloadAlert" onclick="$('#downloadAlertModal').modal('show')" style="display: none;">
                    <iconpark-icon name="triangle-exclamation-solid"></iconpark-icon>
                    <span i18n="da_file">.</span>
                </div>
            </div>
        </div>

        <div id="wx_notice" class="file-wx-note" style="display: none;">
            <h5 i18n="filepage_weixin_notice">.</h5>
        </div>
    </main>

    <footer class="mobile-footer" style="display: none;">
        <button type="button" id="file_download_btn_fast">
            <span class="download-progress-fill" id="progress_thread_1"></span>
            <span class="download-btn-label">
                <span class="download-btn-text" i18n="file_btn_download_fast">Download</span>
            </span>
            <span class="download-btn-status" id="download_progress_container" aria-live="polite" style="display: none;">
                <span id="download_speed">0 KB/s</span>
                <span class="status-separator">•</span>
                <span id="download_progress">0 MB / 0 MB</span>
            </span>
        </button>
    </footer>

    <div id="file_loading" style="display: none;"></div>
</div>
