<style>
/* 覆盖全局背景，包括 body 和 footer */
body {
    background: linear-gradient(135deg, #f5f7fa 0%, #e8ecf1 100%) !important;
}

.light-file-page {
    min-height: 100vh;
    background: transparent;
}

/* Footer 透明化处理 */
#tpl_footer {
    background: transparent !important;
}

#tpl_footer * {
    background: transparent !important;
}

.light-file-container {
    max-width: 680px;
    margin: 0 auto;
    padding: 60px 24px;
    width: 100%;
    box-sizing: border-box;
}

.light-logo-area {
    text-align: center;
    margin-bottom: 48px;
}

.light-logo-area img {
    width: 56px;
    height: 56px;
    opacity: 0.9;
    transition: opacity 0.3s;
}

.light-logo-area img:hover {
    opacity: 1;
}

.light-file-card {
    background: rgba(255, 255, 255, 0.85);
    backdrop-filter: blur(20px);
    border-radius: 20px;
    padding: 40px;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.06);
    border: 1px solid rgba(255, 255, 255, 0.5);
}

.light-file-icon {
    width: 72px;
    height: 72px;
    margin: 0 auto 24px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 42px;
    color: #5b8def;
    background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
    border-radius: 18px;
}

.light-file-name {
    font-size: 22px;
    font-weight: 500;
    color: #2c3e50;
    margin-bottom: 16px;
    text-align: center;
    word-break: break-word;
    line-height: 1.4;
}

.light-file-meta {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 16px;
    margin-bottom: 32px;
    font-size: 14px;
    color: #64748b;
}

.light-meta-item {
    display: flex;
    align-items: center;
    gap: 6px;
    padding: 6px 14px;
    background: rgba(100, 116, 139, 0.08);
    border-radius: 12px;
    transition: all 0.2s ease;
}

.light-meta-item:hover {
    background: rgba(100, 116, 139, 0.15);
    transform: translateY(-1px);
}

.light-meta-item.clickable {
    cursor: pointer;
}

.light-meta-item.clickable:hover {
    background: rgba(91, 141, 239, 0.15);
    color: #5b8def;
}

.light-download-btn {
    position: relative;
    width: 100%;
    min-height: 56px;
    padding: 16px 32px;
    font-size: 16px;
    font-weight: 500;
    color: #fff;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    border: none;
    border-radius: 14px;
    cursor: pointer;
    box-shadow: 0 4px 16px rgba(102, 126, 234, 0.3);
    margin-bottom: 24px;
    overflow: hidden;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s ease;
}

.light-download-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 24px rgba(102, 126, 234, 0.45);
    background: linear-gradient(135deg, #5a6fd6 0%, #6a4190 100%);
}

.light-download-btn:focus {
    outline: none;
    box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.3), 0 8px 24px rgba(102, 126, 234, 0.45);
}

.light-download-btn:active {
    transform: translateY(0);
    box-shadow: 0 4px 12px rgba(102, 126, 234, 0.35);
}

.light-download-btn .download-progress-fill {
    position: absolute;
    inset: 0;
    width: 0%;
    background: rgba(255, 255, 255, 0.25);
    mix-blend-mode: screen;
    transition: width 0.3s ease;
}

.light-download-btn .download-btn-label {
    position: relative;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    letter-spacing: 0.4px;
    z-index: 1;
    transition: opacity 0.2s ease;
}

.light-download-btn .download-btn-text img {
    height: 22px;
}

.light-download-btn .download-btn-label.is-hidden {
    opacity: 0;
}

.light-download-btn.download-btn-progress-active {
    box-shadow: 0 10px 28px rgba(102, 126, 234, 0.45);
}

.download-btn-status {
    position: absolute;
    left: 16px;
    right: 16px;
    top: 0;
    bottom: 0;
    display: none;
    align-items: center;
    justify-content: center;
    gap: 8px;
    font-size: 12px;
    color: rgba(255, 255, 255, 0.92);
    opacity: 0;
    transform: translateY(6px);
    transition: opacity 0.25s ease, transform 0.25s ease;
    pointer-events: none;
}

.download-btn-status .status-separator {
    opacity: 0.7;
}

.download-btn-status.is-active {
    display: flex;
    opacity: 1;
    transform: translateY(0);
}

.light-actions-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
    gap: 16px;
    margin-top: 24px;
}

.light-action-item {
    text-align: center;
    padding: 20px 16px;
    background: rgba(255, 255, 255, 0.6);
    border-radius: 14px;
    cursor: pointer;
    transition: all 0.2s ease;
    border: 1px solid rgba(100, 116, 139, 0.1);
}

.light-action-item:hover {
    background: rgba(255, 255, 255, 0.95);
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
    border-color: rgba(100, 116, 139, 0.15);
}

.light-action-item:active {
    transform: translateY(0);
}

.light-action-icon {
    font-size: 32px;
    color: #5b8def;
    margin-bottom: 8px;
}

.light-action-label {
    font-size: 13px;
    color: #64748b;
    font-weight: 500;
}


.light-publisher {
    margin-top: 24px;
    padding: 14px 18px;
    background: rgba(91, 141, 239, 0.04);
    border-radius: 14px;
    border: 1px solid rgba(91, 141, 239, 0.12);
    display: flex;
    align-items: center;
    gap: 12px;
}

.publisher-icon {
    width: 40px;
    height: 40px;
    border-radius: 10px;
    background: rgba(91, 141, 239, 0.1);
    overflow: hidden;
    flex-shrink: 0;
}

.publisher-icon img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.publisher-content {
    flex: 1;
    min-width: 0;
    display: flex;
    flex-direction: column;
    gap: 2px;
}

.publisher-name-row {
    display: flex;
    align-items: center;
    gap: 5px;
    font-size: 14px;
    font-weight: 600;
    color: #1f2a37;
}

.publisher-name-row .userinfo_card_pro {
    color: #4f81ff;
    font-size: 14px;
}

.publisher-intro {
    font-size: 12px;
    color: #64748b;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.publisher-badge {
    flex-shrink: 0;
    padding: 4px 10px;
    background: rgba(91, 141, 239, 0.1);
    border-radius: 8px;
    font-size: 11px;
    font-weight: 500;
    color: #4f81ff;
}

.light-disclaimer {
    margin-top: 16px;
    padding: 12px 16px;
    background: rgba(251, 191, 36, 0.08);
    border-radius: 10px;
    border: 1px solid rgba(251, 191, 36, 0.2);
    cursor: pointer;
    transition: all 0.2s;
}

.light-disclaimer:hover {
    background: rgba(251, 191, 36, 0.12);
    border-color: rgba(251, 191, 36, 0.3);
}


.light-messenger-card {
    background: rgba(255, 255, 255, 0.85);
    backdrop-filter: blur(20px);
    border-radius: 20px;
    padding: 48px 40px;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.06);
    border: 1px solid rgba(255, 255, 255, 0.5);
    text-align: center;
}

.light-messenger-icon {
    font-size: 64px;
    margin-bottom: 24px;
}

.light-messenger-msg {
    font-size: 20px;
    color: #2c3e50;
    margin-bottom: 32px;
}

.light-lang-selector {
    text-align: center;
    margin-top: 32px;
}

/* Dark Mode Support */
@media (prefers-color-scheme: dark) {
    .publisher-name-row {
        color: #e5e7eb;
    }
    
    .publisher-intro {
        color: #9ca3af;
    }
    
    .publisher-badge {
        color: #93c5fd;
    }
}

@media (max-width: 768px) {
    .light-file-container {
        padding: 32px 16px;
    }
    
    .light-file-card {
        padding: 28px 20px;
    }
    
    .light-actions-grid {
        grid-template-columns: repeat(2, 1fr);
    }
}

/* Desktop: center the file info section in the viewport */
@media (min-width: 769px) {
    .light-file-page {
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 32px 0;
    }

    .light-file-container {
        margin: 0;
        padding: 0 24px;
    }

    .light-logo-area {
        margin-bottom: 28px;
    }
}
</style>

<div class="light-file-page">
    <div class="light-file-container">
        <div class="light-logo-area">
            <a href="/">
                <img id="top_loggo" src="/img/loading.svg" alt="tmp.link">
            </a>
        </div>

        <div id="file_messenger" style="display: none;">
            <div class="light-messenger-card">
                <div class="light-messenger-icon" id="file_messenger_icon"></div>
                <div class="light-messenger-msg" id="file_messenger_msg"></div>
                <div class="row" style="display: none;" id="file_messenger_msg_login">
                    <div class="col-md-6 col-12 mb-2">
                        <button class="btn btn-lg btn-primary btn-block" type="button" onclick="app.open('/app&listview=login');" i18n="index_b3">.</button>
                    </div>
                    <div class="col-md-6 col-12 mb-2">
                        <button class="btn btn-lg btn-danger btn-block" type="button" onclick="app.open('/app&listview=reg');" i18n="index_b2">.</button>
                    </div>
                </div>
            </div>
        </div>

        <div id="file_box" style="display: none;">
            <div class="light-file-card" id="file_info">
                <div class="alert alert-warning" id="wechat_notice" role="alert" style="display: none;" i18n="filepage_mobile_notice">.</div>
                <div class="d-none" id="report_ukey"></div>
                
                <div class="light-file-icon">
                    <iconpark-icon name="file-lines" id="file-icon"></iconpark-icon>
                </div>
                
                <div class="light-file-name" id="filename">.</div>
                
                <div class="light-file-meta">
                    <div class="light-meta-item">
                        <iconpark-icon name="compact-disc"></iconpark-icon>
                        <span id="filesize">.</span>
                    </div>
                    <div class="light-meta-item clickable" id="likes">
                        <iconpark-icon name="like"></iconpark-icon>
                        <span id="likes_count">0</span>
                    </div>
                    <div class="light-meta-item hs-model">
                        <iconpark-icon name="gauge-circle-bolt"></iconpark-icon>
                        <span class="hs-model-title" i18n="hs_title">.</span>
                    </div>
                    <div class="light-meta-item hot-flag" style="display: none;">
                        <iconpark-icon name="fire" style="color: #ef4444;"></iconpark-icon>
                    </div>
                    <div class="light-meta-item" id="lefttime_show" style="display: none;">
                        <iconpark-icon name="timer"></iconpark-icon>
                        <span id="lefttime"></span>
                    </div>
                </div>

                <div class="text-danger text-center mb-3" id="nsfw_alert" style="display: none;">
                    <iconpark-icon name="circle-exclamation"></iconpark-icon>
                    <span i18n="filepage_nsfw_alert">NSFW!</span>
                </div>

                <button type="button" class="light-download-btn" id="file_download_btn_fast">
                    <span class="download-progress-fill" id="progress_thread_1"></span>
                    <span class="download-btn-label">
                        <span class="download-btn-text" i18n="file_btn_download_fast">Download</span>
                    </span>
                    <span class="download-btn-status" id="download_progress_container" aria-live="polite">
                        <span id="download_speed">0 KB/s</span>
                        <span class="status-separator">•</span>
                        <span id="download_progress">0 MB / 0 MB</span>
                    </span>
                </button>

                <div id="file_download_area">
                    <div id="file_op" style="display: none;">
                        <div class="light-actions-grid">
                            <div class="light-action-item">
                                <div class="dropdown w-100">
                                    <div data-toggle="dropdown" aria-haspopup="true">
                                        <div class="light-action-icon">
                                            <iconpark-icon name="laptop-arrow-down"></iconpark-icon>
                                        </div>
                                        <div class="light-action-label" i18n="file_btn_download_opt">.</div>
                                    </div>
                                    <div class="dropdown-menu shadow">
                                        <button class="dropdown-item btn_copy_downloadurl_for_other">
                                            <iconpark-icon name="rectangle-terminal" class="fa-fw"></iconpark-icon>
                                            <span i18n="file_btn_download_opt_link">.</span>
                                        </button>
                                        <button class="dropdown-item btn_copy_downloadurl_for_curl">
                                            <iconpark-icon name="rectangle-terminal" class="fa-fw"></iconpark-icon>
                                            <span i18n="file_btn_download_opt_curl">.</span>
                                        </button>
                                        <button class="dropdown-item btn_copy_downloadurl_for_wget">
                                            <iconpark-icon name="rectangle-terminal" class="fa-fw"></iconpark-icon>
                                            <span i18n="file_btn_download_opt_wget">.</span>
                                        </button>
                                    </div>
                                </div>
                            </div>

                            <div class="light-action-item" id="file_download_by_qrcode">
                                <div class="light-action-icon">
                                    <iconpark-icon name="mobile-signal"></iconpark-icon>
                                </div>
                                <div class="light-action-label" i18n="file_btn_qr_mobile">.</div>
                            </div>

                            <div class="light-action-item" id="btn_copy_fileurl" onclick="TL.copyFileUrl()">
                                <div class="light-action-icon" id="btn_copy_fileurl_icon">
                                    <iconpark-icon name="share-all"></iconpark-icon>
                                </div>
                                <div class="light-action-label" i18n="file_btn_copy">.</div>
                            </div>

                            <div class="light-action-item btn_play" style="display: none;" onclick="$('#openWithPlayerModal').modal('show');">
                                <div class="light-action-icon">
                                    <iconpark-icon name="play"></iconpark-icon>
                                </div>
                                <div class="light-action-label" i18n="file_btn_play">.</div>
                            </div>

                            <div class="light-action-item" id="btn_add_to_workspace">
                                <div class="light-action-icon" id="btn_add_to_workspace_icon">
                                    <iconpark-icon name="file-collection-one"></iconpark-icon>
                                </div>
                                <div class="light-action-label" i18n="file_btn_workspace">.</div>
                            </div>

                            <div class="light-action-item" id="btn_highdownload">
                                <div class="light-action-icon">
                                    <iconpark-icon name="rocket-launch"></iconpark-icon>
                                </div>
                                <div class="light-action-label" i18n="file_btn_upup">.</div>
                            </div>

                            <div class="light-action-item" id="btn_report_file">
                                <div class="light-action-icon" style="color: #ef4444;">
                                    <iconpark-icon name="circle-exclamation"></iconpark-icon>
                                </div>
                                <div class="light-action-label" i18n="file_btn_report">.</div>
                            </div>
                        </div>

                        <div class="light-disclaimer text-center" id="downloadAlert" onclick="$('#downloadAlertModal').modal('show')" style="display: none;">
                            <iconpark-icon name="triangle-exclamation-solid" style="color: #f59e0b; font-size: 16px;"></iconpark-icon>
                            <span i18n="da_file" style="color: #92400e; font-weight: 500; margin-left: 6px;">.</span>
                        </div>
                    </div>
                </div>

                <div class="light-publisher userinfo" style="display: none;">
                    <div class="publisher-icon">
                        <img class="userinfo_avatar_card_img" src="/img/loading.svg" alt="Avatar">
                    </div>
                    <div class="publisher-content">
                        <div class="publisher-name-row">
                            <span class="userinfo_nickname userinfo_card_nickname"></span>
                            <span class="userinfo_sd" style="display: none;"></span>
                            <span class="userinfo_pro userinfo_card_pro" style="display: none;">
                                <iconpark-icon name="circle-check"></iconpark-icon>
                            </span>
                        </div>
                        <div class="publisher-intro">
                            <span class="userinfo_card_intro">个人介绍信息</span>
                        </div>
                    </div>
                    <div class="publisher-badge" i18n="filepage_sharer_badge">分享者</div>
                </div>
            </div>

            <div id="wx_notice" style="display: none; margin-top: 20px; padding: 16px; background: rgba(251, 191, 36, 0.1); border-radius: 12px; color: #92400e;">
                <h5 i18n="filepage_weixin_notice" style="margin: 0; font-size: 14px; font-weight: 500;">.</h5>
            </div>
        </div>

        <div class="light-lang-selector" id="index_lang" style="display: none;">
            <span class="btn btn-sm" style="display: none; background: rgba(255,255,255,0.5); border: 1px solid rgba(100,116,139,0.2); border-radius: 10px; color: #22c55e; margin: 0 4px;">
                <iconpark-icon name="gauge-circle-bolt"></iconpark-icon>
                <span i18n="hs_enabled" class="hs-enabled">.</span>
            </span>

            <span class="btn btn-sm showOpenInMenubarX" onclick="TL.openInMenubarXofIndex()" style="display: none; background: rgba(255,255,255,0.5); border: 1px solid rgba(100,116,139,0.2); border-radius: 10px; margin: 0 4px;">
                <img src="/img/menubarx/icon.svg" style="width: 16px; height: 16px; vertical-align: middle;" title="open in manubarX" />
                <span i18n="open_in_menubarx">.</span>
            </span>
            
            <span class="dropdown-toggle btn btn-sm" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="background: rgba(255,255,255,0.5); border: 1px solid rgba(100,116,139,0.2); border-radius: 10px; margin: 0 4px;">
                <iconpark-icon name="language"></iconpark-icon>
                <span class="selected_lang">.</span>
                <span> / Language</span>
            </span>
            <div class="dropdown-menu shadow-lg" style="border-radius: 10px;">
                <a class="dropdown-item" href="javascript:void(0)" onclick="TL.language('cn');">简体中文</a>
                <a class="dropdown-item" href="javascript:void(0)" onclick="TL.language('hk');">繁体中文</a>
                <a class="dropdown-item" href="javascript:void(0)" onclick="TL.language('en');">English</a>
                <a class="dropdown-item" href="javascript:void(0)" onclick="TL.language('jp');">日本語</a>
            </div>
        </div>
    </div>
</div>
